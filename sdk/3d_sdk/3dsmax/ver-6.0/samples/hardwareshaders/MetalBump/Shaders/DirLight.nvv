//_____________________________________________________________________________
//
//	File:		DirLight.nvv
//	
//_____________________________________________________________________________


//_____________________________________________________________________________
//
//	Include files	
//
//_____________________________________________________________________________

#include "ShaderConst.h"

//_____________________________________________________________________________
//
//	Defines	
//
//_____________________________________________________________________________

#define NORMAL_LOCAL		r0
#define LIGHT_LOCAL			r1

vs.1.0

//_____________________________________
//
//	Transform 
//
//_____________________________________

dp4 oPos.x, V_POSITION, c[CV_WORLDVIEWPROJ_0]
dp4 oPos.y, V_POSITION, c[CV_WORLDVIEWPROJ_1]
dp4 oPos.z, V_POSITION, c[CV_WORLDVIEWPROJ_2]
dp4 oPos.w, V_POSITION, c[CV_WORLDVIEWPROJ_3]

//_____________________________________
//
//	Output light  
//
//_____________________________________

//_____________________________________
//
//	Transform  
//
//_____________________________________

dp3 NORMAL_LOCAL.x, V_NORMAL, c[CV_WORLD_0]
dp3 NORMAL_LOCAL.y, V_NORMAL, c[CV_WORLD_1]
dp3 NORMAL_LOCAL.z, V_NORMAL, c[CV_WORLD_2]

//_____________________________________
//
//	Output normal 
//
//_____________________________________

mov oT0.xyz, NORMAL_LOCAL
mov oT0.w,   c[CV_ONE].w


//_____________________________________
//
//	Output light  
//
//_____________________________________

mov oT1.xyz, c[CV_LIGHT_DIR]
mov oT1.w,   c[CV_ONE].w

//_____________________________________
//
//	Output texture 
//
//_____________________________________

